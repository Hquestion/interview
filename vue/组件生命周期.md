# Vue组件生命周期

每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做生命周期钩子的函数，这给了用户在不同阶段添加自己的代码的机会

## beforeCreate

实例初始化之后调用，此时还没有进行数据观测和event/watcher事件配置，不可访问data,methods等。

## created

实例创建完成之后调用，此时已完成配置数据观测，属性和方法的运算，watch/event事件回调。
挂载阶段还没开始，此时$el不可用。可以通过this访问到data等。

## beforeMount

render函数首次被调用

## mounted

实例被挂载后调用，这时 el 被新创建的 vm.$el 替换了。

mounted不会保证所有子组件都挂载完成，如果希望等到整个视图渲染
完毕，可以在mounted钩子内使用this.$nextTick(() => {})

## beforeUpdate

数据更新时调用，发生在虚拟 DOM 打补丁之前。这里适合在更新之前访问现有的 DOM

## updated

由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。

当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用计算属性或 watcher 取而代之。

注意 updated 不会保证所有的子组件也都一起被重绘。如果你希望等到整个视图都重绘完毕，可以在 updated 里使用 vm.$nextTick：


## beforeDestroy

组件销毁之前调用，此时Vue实例依然可用。主要用来做销毁前的清理工作，如
移除事件监听，销毁定时器等

## destroyed

组件已销毁，事件监听器被移除，Vue实例的指令被解绑，所有的子组件也都被销毁。


> 在哪个生命周期调接口获取数据比较合适？

在created的时候调用，此时网络请求（浏览器的网络模块）与挂载渲染（渲染模块，js引擎）并行，可以让用户更快的看到数据。另外，如果请求足够快，甚至在mounted之前
获取到数据，可能减少一次回流。

在mounted钩子里调用，此时组件已挂载到DOM上，可以做加载的动画优化用户体验，但修改数据时会导致回流。

建议在created里调用接口。


